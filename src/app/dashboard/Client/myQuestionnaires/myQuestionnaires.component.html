<div class="app">
  <h1 class="h1 title">
    <i class="fas fa-home"></i>
    <span>My Questionnaires</span>
  </h1>
  <div class="jumbotron jumbotron-fluid " *ngIf="ArrayOfQuestions.length !=0;else  No_Questionnaires">
    <div class="container ">
      <br>
  <div class="table-card card" *ngFor="let category of questionContainer; let i=index" >
    <h2>{{category.question}}</h2>

    <div class="alert alert-danger" role="alert" *ngIf="category.isNotCompleted">
      Question is not complete
    </div>
    <table class="table">
      <thead>
        <tr>
          <td id="tour-table">Question</td>
          <td>Answer</td>

        </tr>
      <tbody>
          <tr *ngFor="let q of filterById(category.id);let position=index">
            <td >
                {{q.Question}}

            </td>
            <td *ngIf='arrayLengthCheck.length > 2; else elseblock'>

                <select matNativeControl #sel   required (change)="assignAnswerToArray(sel.value,i,position)">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
            </td>

            <ng-template #elseblock>
              <td >
                <select matNativeControl #sel   required (change)="assignAnswerToArray(sel.value,i,position)">
                  <option value="6">Yes</option>
                  <option value="5">No</option>

                </select>
            </td>
          </ng-template>


          </tr>
      </tbody>
    </table>
    <br>
  </div>
  </div>
  </div>
</div>

<div class="d-grid gap-2 card" *ngIf="ArrayOfQuestions.length !=0">
  <button class="btn btn-primary" type="button" (click)="submitQuestionnaire()">Complete Questionnaire</button>
</div>


<ng-template #No_Questionnaires>
  <div class="container p-3 my-3 bg-primary text-white" >
    <h1>NB</h1>
    <p>No Questionnaire Assigned Yet</p>
  </div>
</ng-template>

